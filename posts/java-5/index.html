<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Java: Làm việc với file và I/O | Blog Tiến Phước</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Giới thiệu về File I/O trong Java
Java cung cấp nhiều cách để làm việc với file và I/O operations. Trong bài này, chúng ta sẽ tìm hiểu các phương pháp phổ biến nhất để đọc và ghi file.
Các lớp I/O chính
1. Traditional I/O (java.io)

FileReader, FileWriter
BufferedReader, BufferedWriter
FileInputStream, FileOutputStream

2. NIO.2 (java.nio.file)

Files class với các phương thức static
Path interface
Paths utility class

Ví dụ 1: Đọc file với BufferedReader
import java.io.*;
import java.nio.charset.StandardCharsets;

public class FileReaderExample {
    public static void main(String[] args) {
        String filename = &#34;input.txt&#34;;
        
        // Tạo file mẫu
        createSampleFile(filename);
        
        // Đọc file với BufferedReader
        try (BufferedReader reader = new BufferedReader(
                new FileReader(filename, StandardCharsets.UTF_8))) {
            
            System.out.println(&#34;=== Nội dung file ===&#34;);
            String line;
            int lineNumber = 1;
            
            while ((line = reader.readLine()) != null) {
                System.out.println(lineNumber &#43; &#34;: &#34; &#43; line);
                lineNumber&#43;&#43;;
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void createSampleFile(String filename) {
        try (FileWriter writer = new FileWriter(filename, StandardCharsets.UTF_8)) {
            writer.write(&#34;Dòng 1: Chào mừng đến với Java I/O\n&#34;);
            writer.write(&#34;Dòng 2: Đây là ví dụ đọc file\n&#34;);
            writer.write(&#34;Dòng 3: Sử dụng BufferedReader\n&#34;);
            writer.write(&#34;Dòng 4: Với encoding UTF-8\n&#34;);
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage());
        }
    }
}
Ví dụ 2: Ghi file với BufferedWriter
import java.io.*;
import java.nio.charset.StandardCharsets;
import java.time.LocalDateTime;

public class FileWriterExample {
    public static void main(String[] args) {
        String filename = &#34;output.txt&#34;;
        
        try (BufferedWriter writer = new BufferedWriter(
                new FileWriter(filename, StandardCharsets.UTF_8))) {
            
            // Ghi thông tin vào file
            writer.write(&#34;=== Báo cáo hệ thống ===\n&#34;);
            writer.write(&#34;Thời gian tạo: &#34; &#43; LocalDateTime.now() &#43; &#34;\n&#34;);
            writer.write(&#34;Người dùng: &#34; &#43; System.getProperty(&#34;user.name&#34;) &#43; &#34;\n&#34;);
            writer.write(&#34;Hệ điều hành: &#34; &#43; System.getProperty(&#34;os.name&#34;) &#43; &#34;\n&#34;);
            writer.write(&#34;Phiên bản Java: &#34; &#43; System.getProperty(&#34;java.version&#34;) &#43; &#34;\n&#34;);
            writer.write(&#34;\n&#34;);
            
            // Ghi danh sách số
            writer.write(&#34;Danh sách số từ 1 đến 10:\n&#34;);
            for (int i = 1; i &lt;= 10; i&#43;&#43;) {
                writer.write(&#34;Số &#34; &#43; i &#43; &#34;: &#34; &#43; (i * i) &#43; &#34;\n&#34;);
            }
            
            System.out.println(&#34;Đã ghi file thành công: &#34; &#43; filename);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi ghi file: &#34; &#43; e.getMessage());
        }
    }
}
Ví dụ 3: Sử dụng NIO.2 Files class
import java.io.*;
import java.nio.file.*;
import java.util.List;
import java.util.stream.Stream;

public class NIO2FileExample {
    public static void main(String[] args) {
        String filename = &#34;nio_example.txt&#34;;
        
        // Tạo file với NIO.2
        createFileWithNIO(filename);
        
        // Đọc file với Files.readAllLines()
        readFileWithNIO(filename);
        
        // Đọc file với Files.lines() (Stream)
        readFileWithStream(filename);
        
        // Sao chép file
        copyFile(filename, &#34;copy_of_&#34; &#43; filename);
    }
    
    private static void createFileWithNIO(String filename) {
        try {
            Path path = Paths.get(filename);
            
            // Tạo nội dung file
            List&lt;String&gt; lines = List.of(
                &#34;Dòng 1: Sử dụng NIO.2 Files class&#34;,
                &#34;Dòng 2: Đây là cách hiện đại để làm việc với file&#34;,
                &#34;Dòng 3: Files.write() rất tiện lợi&#34;,
                &#34;Dòng 4: Hỗ trợ encoding UTF-8 mặc định&#34;
            );
            
            // Ghi file
            Files.write(path, lines, StandardOpenOption.CREATE);
            System.out.println(&#34;Đã tạo file: &#34; &#43; filename);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void readFileWithNIO(String filename) {
        try {
            Path path = Paths.get(filename);
            
            // Đọc tất cả dòng vào List
            List&lt;String&gt; lines = Files.readAllLines(path);
            
            System.out.println(&#34;\n=== Đọc file với readAllLines() ===&#34;);
            for (int i = 0; i &lt; lines.size(); i&#43;&#43;) {
                System.out.println((i &#43; 1) &#43; &#34;: &#34; &#43; lines.get(i));
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void readFileWithStream(String filename) {
        try {
            Path path = Paths.get(filename);
            
            System.out.println(&#34;\n=== Đọc file với Stream ===&#34;);
            try (Stream&lt;String&gt; lines = Files.lines(path)) {
                lines.forEach(line -&gt; System.out.println(&#34;Stream: &#34; &#43; line));
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void copyFile(String source, String destination) {
        try {
            Path sourcePath = Paths.get(source);
            Path destPath = Paths.get(destination);
            
            // Sao chép file
            Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING);
            System.out.println(&#34;Đã sao chép file: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi sao chép file: &#34; &#43; e.getMessage());
        }
    }
}
Ví dụ 4: Xử lý file CSV
import java.io.*;
import java.nio.charset.StandardCharsets;
import java.util.*;

public class CSVProcessor {
    public static void main(String[] args) {
        String csvFile = &#34;students.csv&#34;;
        
        // Tạo file CSV mẫu
        createSampleCSV(csvFile);
        
        // Đọc và xử lý file CSV
        List&lt;Student&gt; students = readCSV(csvFile);
        
        // Hiển thị dữ liệu
        displayStudents(students);
        
        // Ghi file CSV mới với dữ liệu đã xử lý
        writeProcessedCSV(&#34;processed_students.csv&#34;, students);
    }
    
    private static void createSampleCSV(String filename) {
        try (BufferedWriter writer = new BufferedWriter(
                new FileWriter(filename, StandardCharsets.UTF_8))) {
            
            // Header
            writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa\n&#34;);
            
            // Data
            writer.write(&#34;1,Nguyễn Văn A,20,8.5,7.8,9.2\n&#34;);
            writer.write(&#34;2,Trần Thị B,19,9.1,8.9,8.7\n&#34;);
            writer.write(&#34;3,Lê Văn C,21,7.5,8.2,7.9\n&#34;);
            writer.write(&#34;4,Phạm Thị D,20,8.8,9.1,8.5\n&#34;);
            writer.write(&#34;5,Hoàng Văn E,22,6.9,7.5,8.1\n&#34;);
            
            System.out.println(&#34;Đã tạo file CSV: &#34; &#43; filename);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tạo file CSV: &#34; &#43; e.getMessage());
        }
    }
    
    private static List&lt;Student&gt; readCSV(String filename) {
        List&lt;Student&gt; students = new ArrayList&lt;&gt;();
        
        try (BufferedReader reader = new BufferedReader(
                new FileReader(filename, StandardCharsets.UTF_8))) {
            
            String line;
            boolean isFirstLine = true;
            
            while ((line = reader.readLine()) != null) {
                if (isFirstLine) {
                    isFirstLine = false;
                    continue; // Bỏ qua header
                }
                
                String[] fields = line.split(&#34;,&#34;);
                if (fields.length &gt;= 6) {
                    Student student = new Student(
                        Integer.parseInt(fields[0]),
                        fields[1],
                        Integer.parseInt(fields[2]),
                        Double.parseDouble(fields[3]),
                        Double.parseDouble(fields[4]),
                        Double.parseDouble(fields[5])
                    );
                    students.add(student);
                }
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi đọc file CSV: &#34; &#43; e.getMessage());
        }
        
        return students;
    }
    
    private static void displayStudents(List&lt;Student&gt; students) {
        System.out.println(&#34;\n=== Danh sách sinh viên ===&#34;);
        System.out.printf(&#34;%-5s %-15s %-5s %-8s %-8s %-8s %-8s%n&#34;, 
            &#34;ID&#34;, &#34;Tên&#34;, &#34;Tuổi&#34;, &#34;Toán&#34;, &#34;Lý&#34;, &#34;Hóa&#34;, &#34;TB&#34;);
        System.out.println(&#34;-&#34;.repeat(70));
        
        for (Student student : students) {
            System.out.printf(&#34;%-5d %-15s %-5d %-8.1f %-8.1f %-8.1f %-8.1f%n&#34;,
                student.getId(),
                student.getName(),
                student.getAge(),
                student.getMathScore(),
                student.getPhysicsScore(),
                student.getChemistryScore(),
                student.getAverageScore()
            );
        }
    }
    
    private static void writeProcessedCSV(String filename, List&lt;Student&gt; students) {
        try (BufferedWriter writer = new BufferedWriter(
                new FileWriter(filename, StandardCharsets.UTF_8))) {
            
            // Header
            writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa,Điểm TB,Xếp loại\n&#34;);
            
            // Data
            for (Student student : students) {
                writer.write(String.format(&#34;%d,%s,%d,%.1f,%.1f,%.1f,%.1f,%s%n&#34;,
                    student.getId(),
                    student.getName(),
                    student.getAge(),
                    student.getMathScore(),
                    student.getPhysicsScore(),
                    student.getChemistryScore(),
                    student.getAverageScore(),
                    student.getGrade()
                ));
            }
            
            System.out.println(&#34;Đã ghi file CSV đã xử lý: &#34; &#43; filename);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi ghi file CSV: &#34; &#43; e.getMessage());
        }
    }
}

// Lớp Student để lưu trữ dữ liệu
class Student {
    private int id;
    private String name;
    private int age;
    private double mathScore;
    private double physicsScore;
    private double chemistryScore;
    
    public Student(int id, String name, int age, double mathScore, 
                   double physicsScore, double chemistryScore) {
        this.id = id;
        this.name = name;
        this.age = age;
        this.mathScore = mathScore;
        this.physicsScore = physicsScore;
        this.chemistryScore = chemistryScore;
    }
    
    public double getAverageScore() {
        return (mathScore &#43; physicsScore &#43; chemistryScore) / 3.0;
    }
    
    public String getGrade() {
        double avg = getAverageScore();
        if (avg &gt;= 9.0) return &#34;Xuất sắc&#34;;
        if (avg &gt;= 8.0) return &#34;Giỏi&#34;;
        if (avg &gt;= 7.0) return &#34;Khá&#34;;
        if (avg &gt;= 6.0) return &#34;Trung bình&#34;;
        return &#34;Yếu&#34;;
    }
    
    // Getters
    public int getId() { return id; }
    public String getName() { return name; }
    public int getAge() { return age; }
    public double getMathScore() { return mathScore; }
    public double getPhysicsScore() { return physicsScore; }
    public double getChemistryScore() { return chemistryScore; }
}
Ví dụ 5: Xử lý file Binary
import java.io.*;
import java.nio.file.*;

public class BinaryFileExample {
    public static void main(String[] args) {
        String filename = &#34;data.bin&#34;;
        
        // Ghi file binary
        writeBinaryFile(filename);
        
        // Đọc file binary
        readBinaryFile(filename);
        
        // Sao chép file binary
        copyBinaryFile(filename, &#34;copy_&#34; &#43; filename);
    }
    
    private static void writeBinaryFile(String filename) {
        try (DataOutputStream dos = new DataOutputStream(
                new FileOutputStream(filename))) {
            
            // Ghi các kiểu dữ liệu khác nhau
            dos.writeInt(12345);
            dos.writeDouble(3.14159);
            dos.writeBoolean(true);
            dos.writeUTF(&#34;Hello Binary World!&#34;);
            dos.writeChar(&#39;A&#39;);
            
            System.out.println(&#34;Đã ghi file binary: &#34; &#43; filename);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi ghi file binary: &#34; &#43; e.getMessage());
        }
    }
    
    private static void readBinaryFile(String filename) {
        try (DataInputStream dis = new DataInputStream(
                new FileInputStream(filename))) {
            
            System.out.println(&#34;\n=== Đọc file binary ===&#34;);
            
            // Đọc theo đúng thứ tự đã ghi
            int intValue = dis.readInt();
            double doubleValue = dis.readDouble();
            boolean boolValue = dis.readBoolean();
            String stringValue = dis.readUTF();
            char charValue = dis.readChar();
            
            System.out.println(&#34;Int: &#34; &#43; intValue);
            System.out.println(&#34;Double: &#34; &#43; doubleValue);
            System.out.println(&#34;Boolean: &#34; &#43; boolValue);
            System.out.println(&#34;String: &#34; &#43; stringValue);
            System.out.println(&#34;Char: &#34; &#43; charValue);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi đọc file binary: &#34; &#43; e.getMessage());
        }
    }
    
    private static void copyBinaryFile(String source, String destination) {
        try {
            Path sourcePath = Paths.get(source);
            Path destPath = Paths.get(destination);
            
            // Sao chép file binary
            Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING);
            
            // Kiểm tra kích thước file
            long sourceSize = Files.size(sourcePath);
            long destSize = Files.size(destPath);
            
            System.out.println(&#34;Đã sao chép file binary: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination);
            System.out.println(&#34;Kích thước file gốc: &#34; &#43; sourceSize &#43; &#34; bytes&#34;);
            System.out.println(&#34;Kích thước file copy: &#34; &#43; destSize &#43; &#34; bytes&#34;);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi sao chép file binary: &#34; &#43; e.getMessage());
        }
    }
}
Ví dụ 6: Quản lý thư mục
import java.io.*;
import java.nio.file.*;
import java.util.stream.Stream;

public class DirectoryManager {
    public static void main(String[] args) {
        String dirName = &#34;test_directory&#34;;
        
        // Tạo thư mục
        createDirectory(dirName);
        
        // Tạo file trong thư mục
        createFilesInDirectory(dirName);
        
        // Liệt kê nội dung thư mục
        listDirectoryContents(dirName);
        
        // Tìm kiếm file
        searchFiles(dirName, &#34;.txt&#34;);
        
        // Xóa thư mục
        deleteDirectory(dirName);
    }
    
    private static void createDirectory(String dirName) {
        try {
            Path dir = Paths.get(dirName);
            Files.createDirectories(dir);
            System.out.println(&#34;Đã tạo thư mục: &#34; &#43; dirName);
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tạo thư mục: &#34; &#43; e.getMessage());
        }
    }
    
    private static void createFilesInDirectory(String dirName) {
        try {
            // Tạo các file khác nhau
            String[] files = {&#34;file1.txt&#34;, &#34;file2.log&#34;, &#34;file3.dat&#34;, &#34;subdir/file4.txt&#34;};
            
            for (String fileName : files) {
                Path filePath = Paths.get(dirName, fileName);
                Files.createDirectories(filePath.getParent());
                Files.write(filePath, (&#34;Nội dung file &#34; &#43; fileName).getBytes());
            }
            
            System.out.println(&#34;Đã tạo các file trong thư mục&#34;);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void listDirectoryContents(String dirName) {
        try {
            Path dir = Paths.get(dirName);
            
            System.out.println(&#34;\n=== Nội dung thư mục &#34; &#43; dirName &#43; &#34; ===&#34;);
            
            try (Stream&lt;Path&gt; paths = Files.walk(dir)) {
                paths.forEach(path -&gt; {
                    try {
                        if (Files.isDirectory(path)) {
                            System.out.println(&#34;[DIR]  &#34; &#43; path);
                        } else {
                            long size = Files.size(path);
                            System.out.println(&#34;[FILE] &#34; &#43; path &#43; &#34; (&#34; &#43; size &#43; &#34; bytes)&#34;);
                        }
                    } catch (IOException e) {
                        System.err.println(&#34;Lỗi đọc thông tin file: &#34; &#43; e.getMessage());
                    }
                });
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi liệt kê thư mục: &#34; &#43; e.getMessage());
        }
    }
    
    private static void searchFiles(String dirName, String extension) {
        try {
            Path dir = Paths.get(dirName);
            
            System.out.println(&#34;\n=== Tìm file có đuôi &#34; &#43; extension &#43; &#34; ===&#34;);
            
            try (Stream&lt;Path&gt; paths = Files.walk(dir)) {
                paths.filter(Files::isRegularFile)
                     .filter(path -&gt; path.toString().endsWith(extension))
                     .forEach(System.out::println);
            }
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi tìm kiếm file: &#34; &#43; e.getMessage());
        }
    }
    
    private static void deleteDirectory(String dirName) {
        try {
            Path dir = Paths.get(dirName);
            
            // Xóa thư mục và tất cả nội dung bên trong
            Files.walk(dir)
                 .sorted((a, b) -&gt; b.compareTo(a)) // Xóa file trước, thư mục sau
                 .forEach(path -&gt; {
                     try {
                         Files.delete(path);
                         System.out.println(&#34;Đã xóa: &#34; &#43; path);
                     } catch (IOException e) {
                         System.err.println(&#34;Lỗi xóa: &#34; &#43; path &#43; &#34; - &#34; &#43; e.getMessage());
                     }
                 });
            
            System.out.println(&#34;Đã xóa thư mục: &#34; &#43; dirName);
            
        } catch (IOException e) {
            System.err.println(&#34;Lỗi xóa thư mục: &#34; &#43; e.getMessage());
        }
    }
}
Best Practices cho File I/O
1. Luôn sử dụng try-with-resources
// Tốt
try (BufferedReader reader = new BufferedReader(new FileReader(&#34;file.txt&#34;))) {
    // xử lý file
} catch (IOException e) {
    // xử lý lỗi
}

// Tránh
BufferedReader reader = null;
try {
    reader = new BufferedReader(new FileReader(&#34;file.txt&#34;));
    // xử lý file
} finally {
    if (reader != null) {
        try { reader.close(); } catch (IOException e) { }
    }
}
2. Sử dụng encoding phù hợp
// Luôn chỉ định encoding
new FileReader(&#34;file.txt&#34;, StandardCharsets.UTF_8)
new FileWriter(&#34;file.txt&#34;, StandardCharsets.UTF_8)
3. Kiểm tra file tồn tại
Path path = Paths.get(&#34;file.txt&#34;);
if (Files.exists(path)) {
    // xử lý file
} else {
    System.out.println(&#34;File không tồn tại&#34;);
}
4. Xử lý exception phù hợp
try {
    // file operations
} catch (FileNotFoundException e) {
    // file không tồn tại
} catch (IOException e) {
    // lỗi I/O khác
}
Kết luận
File I/O là một phần quan trọng trong lập trình Java. Việc hiểu và sử dụng đúng các API I/O sẽ giúp bạn tạo ra ứng dụng có thể xử lý dữ liệu một cách hiệu quả và an toàn. NIO.2 cung cấp API hiện đại và mạnh mẽ hơn so với traditional I/O, nên hãy ưu tiên sử dụng khi có thể.">
    <meta name="generator" content="Hugo 0.151.2">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="Nguyễn Tiến Phước">
    

    
<link rel="stylesheet" href="/blogphuoc.github.io/ananke/css/main.min.35b2896b31743d661fd733de1ee2155d455ab40db1eab0652f3e9f3140728b69.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://phuoc0209.github.io/blogphuoc.github.io/posts/java-5/">
    

    <meta property="og:url" content="https://phuoc0209.github.io/blogphuoc.github.io/posts/java-5/">
  <meta property="og:site_name" content="Blog Tiến Phước">
  <meta property="og:title" content="Java: Làm việc với file và I/O">
  <meta property="og:description" content="Giới thiệu về File I/O trong Java Java cung cấp nhiều cách để làm việc với file và I/O operations. Trong bài này, chúng ta sẽ tìm hiểu các phương pháp phổ biến nhất để đọc và ghi file.
Các lớp I/O chính 1. Traditional I/O (java.io) FileReader, FileWriter BufferedReader, BufferedWriter FileInputStream, FileOutputStream 2. NIO.2 (java.nio.file) Files class với các phương thức static Path interface Paths utility class Ví dụ 1: Đọc file với BufferedReader import java.io.*; import java.nio.charset.StandardCharsets; public class FileReaderExample { public static void main(String[] args) { String filename = &#34;input.txt&#34;; // Tạo file mẫu createSampleFile(filename); // Đọc file với BufferedReader try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { System.out.println(&#34;=== Nội dung file ===&#34;); String line; int lineNumber = 1; while ((line = reader.readLine()) != null) { System.out.println(lineNumber &#43; &#34;: &#34; &#43; line); lineNumber&#43;&#43;; } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void createSampleFile(String filename) { try (FileWriter writer = new FileWriter(filename, StandardCharsets.UTF_8)) { writer.write(&#34;Dòng 1: Chào mừng đến với Java I/O\n&#34;); writer.write(&#34;Dòng 2: Đây là ví dụ đọc file\n&#34;); writer.write(&#34;Dòng 3: Sử dụng BufferedReader\n&#34;); writer.write(&#34;Dòng 4: Với encoding UTF-8\n&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } } Ví dụ 2: Ghi file với BufferedWriter import java.io.*; import java.nio.charset.StandardCharsets; import java.time.LocalDateTime; public class FileWriterExample { public static void main(String[] args) { String filename = &#34;output.txt&#34;; try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Ghi thông tin vào file writer.write(&#34;=== Báo cáo hệ thống ===\n&#34;); writer.write(&#34;Thời gian tạo: &#34; &#43; LocalDateTime.now() &#43; &#34;\n&#34;); writer.write(&#34;Người dùng: &#34; &#43; System.getProperty(&#34;user.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Hệ điều hành: &#34; &#43; System.getProperty(&#34;os.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Phiên bản Java: &#34; &#43; System.getProperty(&#34;java.version&#34;) &#43; &#34;\n&#34;); writer.write(&#34;\n&#34;); // Ghi danh sách số writer.write(&#34;Danh sách số từ 1 đến 10:\n&#34;); for (int i = 1; i &lt;= 10; i&#43;&#43;) { writer.write(&#34;Số &#34; &#43; i &#43; &#34;: &#34; &#43; (i * i) &#43; &#34;\n&#34;); } System.out.println(&#34;Đã ghi file thành công: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file: &#34; &#43; e.getMessage()); } } } Ví dụ 3: Sử dụng NIO.2 Files class import java.io.*; import java.nio.file.*; import java.util.List; import java.util.stream.Stream; public class NIO2FileExample { public static void main(String[] args) { String filename = &#34;nio_example.txt&#34;; // Tạo file với NIO.2 createFileWithNIO(filename); // Đọc file với Files.readAllLines() readFileWithNIO(filename); // Đọc file với Files.lines() (Stream) readFileWithStream(filename); // Sao chép file copyFile(filename, &#34;copy_of_&#34; &#43; filename); } private static void createFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Tạo nội dung file List&lt;String&gt; lines = List.of( &#34;Dòng 1: Sử dụng NIO.2 Files class&#34;, &#34;Dòng 2: Đây là cách hiện đại để làm việc với file&#34;, &#34;Dòng 3: Files.write() rất tiện lợi&#34;, &#34;Dòng 4: Hỗ trợ encoding UTF-8 mặc định&#34; ); // Ghi file Files.write(path, lines, StandardOpenOption.CREATE); System.out.println(&#34;Đã tạo file: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void readFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Đọc tất cả dòng vào List List&lt;String&gt; lines = Files.readAllLines(path); System.out.println(&#34;\n=== Đọc file với readAllLines() ===&#34;); for (int i = 0; i &lt; lines.size(); i&#43;&#43;) { System.out.println((i &#43; 1) &#43; &#34;: &#34; &#43; lines.get(i)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void readFileWithStream(String filename) { try { Path path = Paths.get(filename); System.out.println(&#34;\n=== Đọc file với Stream ===&#34;); try (Stream&lt;String&gt; lines = Files.lines(path)) { lines.forEach(line -&gt; System.out.println(&#34;Stream: &#34; &#43; line)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void copyFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); System.out.println(&#34;Đã sao chép file: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file: &#34; &#43; e.getMessage()); } } } Ví dụ 4: Xử lý file CSV import java.io.*; import java.nio.charset.StandardCharsets; import java.util.*; public class CSVProcessor { public static void main(String[] args) { String csvFile = &#34;students.csv&#34;; // Tạo file CSV mẫu createSampleCSV(csvFile); // Đọc và xử lý file CSV List&lt;Student&gt; students = readCSV(csvFile); // Hiển thị dữ liệu displayStudents(students); // Ghi file CSV mới với dữ liệu đã xử lý writeProcessedCSV(&#34;processed_students.csv&#34;, students); } private static void createSampleCSV(String filename) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa\n&#34;); // Data writer.write(&#34;1,Nguyễn Văn A,20,8.5,7.8,9.2\n&#34;); writer.write(&#34;2,Trần Thị B,19,9.1,8.9,8.7\n&#34;); writer.write(&#34;3,Lê Văn C,21,7.5,8.2,7.9\n&#34;); writer.write(&#34;4,Phạm Thị D,20,8.8,9.1,8.5\n&#34;); writer.write(&#34;5,Hoàng Văn E,22,6.9,7.5,8.1\n&#34;); System.out.println(&#34;Đã tạo file CSV: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file CSV: &#34; &#43; e.getMessage()); } } private static List&lt;Student&gt; readCSV(String filename) { List&lt;Student&gt; students = new ArrayList&lt;&gt;(); try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { isFirstLine = false; continue; // Bỏ qua header } String[] fields = line.split(&#34;,&#34;); if (fields.length &gt;= 6) { Student student = new Student( Integer.parseInt(fields[0]), fields[1], Integer.parseInt(fields[2]), Double.parseDouble(fields[3]), Double.parseDouble(fields[4]), Double.parseDouble(fields[5]) ); students.add(student); } } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file CSV: &#34; &#43; e.getMessage()); } return students; } private static void displayStudents(List&lt;Student&gt; students) { System.out.println(&#34;\n=== Danh sách sinh viên ===&#34;); System.out.printf(&#34;%-5s %-15s %-5s %-8s %-8s %-8s %-8s%n&#34;, &#34;ID&#34;, &#34;Tên&#34;, &#34;Tuổi&#34;, &#34;Toán&#34;, &#34;Lý&#34;, &#34;Hóa&#34;, &#34;TB&#34;); System.out.println(&#34;-&#34;.repeat(70)); for (Student student : students) { System.out.printf(&#34;%-5d %-15s %-5d %-8.1f %-8.1f %-8.1f %-8.1f%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore() ); } } private static void writeProcessedCSV(String filename, List&lt;Student&gt; students) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa,Điểm TB,Xếp loại\n&#34;); // Data for (Student student : students) { writer.write(String.format(&#34;%d,%s,%d,%.1f,%.1f,%.1f,%.1f,%s%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore(), student.getGrade() )); } System.out.println(&#34;Đã ghi file CSV đã xử lý: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file CSV: &#34; &#43; e.getMessage()); } } } // Lớp Student để lưu trữ dữ liệu class Student { private int id; private String name; private int age; private double mathScore; private double physicsScore; private double chemistryScore; public Student(int id, String name, int age, double mathScore, double physicsScore, double chemistryScore) { this.id = id; this.name = name; this.age = age; this.mathScore = mathScore; this.physicsScore = physicsScore; this.chemistryScore = chemistryScore; } public double getAverageScore() { return (mathScore &#43; physicsScore &#43; chemistryScore) / 3.0; } public String getGrade() { double avg = getAverageScore(); if (avg &gt;= 9.0) return &#34;Xuất sắc&#34;; if (avg &gt;= 8.0) return &#34;Giỏi&#34;; if (avg &gt;= 7.0) return &#34;Khá&#34;; if (avg &gt;= 6.0) return &#34;Trung bình&#34;; return &#34;Yếu&#34;; } // Getters public int getId() { return id; } public String getName() { return name; } public int getAge() { return age; } public double getMathScore() { return mathScore; } public double getPhysicsScore() { return physicsScore; } public double getChemistryScore() { return chemistryScore; } } Ví dụ 5: Xử lý file Binary import java.io.*; import java.nio.file.*; public class BinaryFileExample { public static void main(String[] args) { String filename = &#34;data.bin&#34;; // Ghi file binary writeBinaryFile(filename); // Đọc file binary readBinaryFile(filename); // Sao chép file binary copyBinaryFile(filename, &#34;copy_&#34; &#43; filename); } private static void writeBinaryFile(String filename) { try (DataOutputStream dos = new DataOutputStream( new FileOutputStream(filename))) { // Ghi các kiểu dữ liệu khác nhau dos.writeInt(12345); dos.writeDouble(3.14159); dos.writeBoolean(true); dos.writeUTF(&#34;Hello Binary World!&#34;); dos.writeChar(&#39;A&#39;); System.out.println(&#34;Đã ghi file binary: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file binary: &#34; &#43; e.getMessage()); } } private static void readBinaryFile(String filename) { try (DataInputStream dis = new DataInputStream( new FileInputStream(filename))) { System.out.println(&#34;\n=== Đọc file binary ===&#34;); // Đọc theo đúng thứ tự đã ghi int intValue = dis.readInt(); double doubleValue = dis.readDouble(); boolean boolValue = dis.readBoolean(); String stringValue = dis.readUTF(); char charValue = dis.readChar(); System.out.println(&#34;Int: &#34; &#43; intValue); System.out.println(&#34;Double: &#34; &#43; doubleValue); System.out.println(&#34;Boolean: &#34; &#43; boolValue); System.out.println(&#34;String: &#34; &#43; stringValue); System.out.println(&#34;Char: &#34; &#43; charValue); } catch (IOException e) { System.err.println(&#34;Lỗi đọc file binary: &#34; &#43; e.getMessage()); } } private static void copyBinaryFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file binary Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); // Kiểm tra kích thước file long sourceSize = Files.size(sourcePath); long destSize = Files.size(destPath); System.out.println(&#34;Đã sao chép file binary: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); System.out.println(&#34;Kích thước file gốc: &#34; &#43; sourceSize &#43; &#34; bytes&#34;); System.out.println(&#34;Kích thước file copy: &#34; &#43; destSize &#43; &#34; bytes&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file binary: &#34; &#43; e.getMessage()); } } } Ví dụ 6: Quản lý thư mục import java.io.*; import java.nio.file.*; import java.util.stream.Stream; public class DirectoryManager { public static void main(String[] args) { String dirName = &#34;test_directory&#34;; // Tạo thư mục createDirectory(dirName); // Tạo file trong thư mục createFilesInDirectory(dirName); // Liệt kê nội dung thư mục listDirectoryContents(dirName); // Tìm kiếm file searchFiles(dirName, &#34;.txt&#34;); // Xóa thư mục deleteDirectory(dirName); } private static void createDirectory(String dirName) { try { Path dir = Paths.get(dirName); Files.createDirectories(dir); System.out.println(&#34;Đã tạo thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi tạo thư mục: &#34; &#43; e.getMessage()); } } private static void createFilesInDirectory(String dirName) { try { // Tạo các file khác nhau String[] files = {&#34;file1.txt&#34;, &#34;file2.log&#34;, &#34;file3.dat&#34;, &#34;subdir/file4.txt&#34;}; for (String fileName : files) { Path filePath = Paths.get(dirName, fileName); Files.createDirectories(filePath.getParent()); Files.write(filePath, (&#34;Nội dung file &#34; &#43; fileName).getBytes()); } System.out.println(&#34;Đã tạo các file trong thư mục&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void listDirectoryContents(String dirName) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Nội dung thư mục &#34; &#43; dirName &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.forEach(path -&gt; { try { if (Files.isDirectory(path)) { System.out.println(&#34;[DIR] &#34; &#43; path); } else { long size = Files.size(path); System.out.println(&#34;[FILE] &#34; &#43; path &#43; &#34; (&#34; &#43; size &#43; &#34; bytes)&#34;); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc thông tin file: &#34; &#43; e.getMessage()); } }); } } catch (IOException e) { System.err.println(&#34;Lỗi liệt kê thư mục: &#34; &#43; e.getMessage()); } } private static void searchFiles(String dirName, String extension) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Tìm file có đuôi &#34; &#43; extension &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.filter(Files::isRegularFile) .filter(path -&gt; path.toString().endsWith(extension)) .forEach(System.out::println); } } catch (IOException e) { System.err.println(&#34;Lỗi tìm kiếm file: &#34; &#43; e.getMessage()); } } private static void deleteDirectory(String dirName) { try { Path dir = Paths.get(dirName); // Xóa thư mục và tất cả nội dung bên trong Files.walk(dir) .sorted((a, b) -&gt; b.compareTo(a)) // Xóa file trước, thư mục sau .forEach(path -&gt; { try { Files.delete(path); System.out.println(&#34;Đã xóa: &#34; &#43; path); } catch (IOException e) { System.err.println(&#34;Lỗi xóa: &#34; &#43; path &#43; &#34; - &#34; &#43; e.getMessage()); } }); System.out.println(&#34;Đã xóa thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi xóa thư mục: &#34; &#43; e.getMessage()); } } } Best Practices cho File I/O 1. Luôn sử dụng try-with-resources // Tốt try (BufferedReader reader = new BufferedReader(new FileReader(&#34;file.txt&#34;))) { // xử lý file } catch (IOException e) { // xử lý lỗi } // Tránh BufferedReader reader = null; try { reader = new BufferedReader(new FileReader(&#34;file.txt&#34;)); // xử lý file } finally { if (reader != null) { try { reader.close(); } catch (IOException e) { } } } 2. Sử dụng encoding phù hợp // Luôn chỉ định encoding new FileReader(&#34;file.txt&#34;, StandardCharsets.UTF_8) new FileWriter(&#34;file.txt&#34;, StandardCharsets.UTF_8) 3. Kiểm tra file tồn tại Path path = Paths.get(&#34;file.txt&#34;); if (Files.exists(path)) { // xử lý file } else { System.out.println(&#34;File không tồn tại&#34;); } 4. Xử lý exception phù hợp try { // file operations } catch (FileNotFoundException e) { // file không tồn tại } catch (IOException e) { // lỗi I/O khác } Kết luận File I/O là một phần quan trọng trong lập trình Java. Việc hiểu và sử dụng đúng các API I/O sẽ giúp bạn tạo ra ứng dụng có thể xử lý dữ liệu một cách hiệu quả và an toàn. NIO.2 cung cấp API hiện đại và mạnh mẽ hơn so với traditional I/O, nên hãy ưu tiên sử dụng khi có thể.">
  <meta property="og:locale" content="vi">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-10-17T09:40:00+07:00">
    <meta property="article:modified_time" content="2025-10-17T09:40:00+07:00">
    <meta property="article:tag" content="Io">
    <meta property="article:tag" content="File">
    <meta property="article:tag" content="Java">

  <meta itemprop="name" content="Java: Làm việc với file và I/O">
  <meta itemprop="description" content="Giới thiệu về File I/O trong Java Java cung cấp nhiều cách để làm việc với file và I/O operations. Trong bài này, chúng ta sẽ tìm hiểu các phương pháp phổ biến nhất để đọc và ghi file.
Các lớp I/O chính 1. Traditional I/O (java.io) FileReader, FileWriter BufferedReader, BufferedWriter FileInputStream, FileOutputStream 2. NIO.2 (java.nio.file) Files class với các phương thức static Path interface Paths utility class Ví dụ 1: Đọc file với BufferedReader import java.io.*; import java.nio.charset.StandardCharsets; public class FileReaderExample { public static void main(String[] args) { String filename = &#34;input.txt&#34;; // Tạo file mẫu createSampleFile(filename); // Đọc file với BufferedReader try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { System.out.println(&#34;=== Nội dung file ===&#34;); String line; int lineNumber = 1; while ((line = reader.readLine()) != null) { System.out.println(lineNumber &#43; &#34;: &#34; &#43; line); lineNumber&#43;&#43;; } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void createSampleFile(String filename) { try (FileWriter writer = new FileWriter(filename, StandardCharsets.UTF_8)) { writer.write(&#34;Dòng 1: Chào mừng đến với Java I/O\n&#34;); writer.write(&#34;Dòng 2: Đây là ví dụ đọc file\n&#34;); writer.write(&#34;Dòng 3: Sử dụng BufferedReader\n&#34;); writer.write(&#34;Dòng 4: Với encoding UTF-8\n&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } } Ví dụ 2: Ghi file với BufferedWriter import java.io.*; import java.nio.charset.StandardCharsets; import java.time.LocalDateTime; public class FileWriterExample { public static void main(String[] args) { String filename = &#34;output.txt&#34;; try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Ghi thông tin vào file writer.write(&#34;=== Báo cáo hệ thống ===\n&#34;); writer.write(&#34;Thời gian tạo: &#34; &#43; LocalDateTime.now() &#43; &#34;\n&#34;); writer.write(&#34;Người dùng: &#34; &#43; System.getProperty(&#34;user.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Hệ điều hành: &#34; &#43; System.getProperty(&#34;os.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Phiên bản Java: &#34; &#43; System.getProperty(&#34;java.version&#34;) &#43; &#34;\n&#34;); writer.write(&#34;\n&#34;); // Ghi danh sách số writer.write(&#34;Danh sách số từ 1 đến 10:\n&#34;); for (int i = 1; i &lt;= 10; i&#43;&#43;) { writer.write(&#34;Số &#34; &#43; i &#43; &#34;: &#34; &#43; (i * i) &#43; &#34;\n&#34;); } System.out.println(&#34;Đã ghi file thành công: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file: &#34; &#43; e.getMessage()); } } } Ví dụ 3: Sử dụng NIO.2 Files class import java.io.*; import java.nio.file.*; import java.util.List; import java.util.stream.Stream; public class NIO2FileExample { public static void main(String[] args) { String filename = &#34;nio_example.txt&#34;; // Tạo file với NIO.2 createFileWithNIO(filename); // Đọc file với Files.readAllLines() readFileWithNIO(filename); // Đọc file với Files.lines() (Stream) readFileWithStream(filename); // Sao chép file copyFile(filename, &#34;copy_of_&#34; &#43; filename); } private static void createFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Tạo nội dung file List&lt;String&gt; lines = List.of( &#34;Dòng 1: Sử dụng NIO.2 Files class&#34;, &#34;Dòng 2: Đây là cách hiện đại để làm việc với file&#34;, &#34;Dòng 3: Files.write() rất tiện lợi&#34;, &#34;Dòng 4: Hỗ trợ encoding UTF-8 mặc định&#34; ); // Ghi file Files.write(path, lines, StandardOpenOption.CREATE); System.out.println(&#34;Đã tạo file: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void readFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Đọc tất cả dòng vào List List&lt;String&gt; lines = Files.readAllLines(path); System.out.println(&#34;\n=== Đọc file với readAllLines() ===&#34;); for (int i = 0; i &lt; lines.size(); i&#43;&#43;) { System.out.println((i &#43; 1) &#43; &#34;: &#34; &#43; lines.get(i)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void readFileWithStream(String filename) { try { Path path = Paths.get(filename); System.out.println(&#34;\n=== Đọc file với Stream ===&#34;); try (Stream&lt;String&gt; lines = Files.lines(path)) { lines.forEach(line -&gt; System.out.println(&#34;Stream: &#34; &#43; line)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void copyFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); System.out.println(&#34;Đã sao chép file: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file: &#34; &#43; e.getMessage()); } } } Ví dụ 4: Xử lý file CSV import java.io.*; import java.nio.charset.StandardCharsets; import java.util.*; public class CSVProcessor { public static void main(String[] args) { String csvFile = &#34;students.csv&#34;; // Tạo file CSV mẫu createSampleCSV(csvFile); // Đọc và xử lý file CSV List&lt;Student&gt; students = readCSV(csvFile); // Hiển thị dữ liệu displayStudents(students); // Ghi file CSV mới với dữ liệu đã xử lý writeProcessedCSV(&#34;processed_students.csv&#34;, students); } private static void createSampleCSV(String filename) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa\n&#34;); // Data writer.write(&#34;1,Nguyễn Văn A,20,8.5,7.8,9.2\n&#34;); writer.write(&#34;2,Trần Thị B,19,9.1,8.9,8.7\n&#34;); writer.write(&#34;3,Lê Văn C,21,7.5,8.2,7.9\n&#34;); writer.write(&#34;4,Phạm Thị D,20,8.8,9.1,8.5\n&#34;); writer.write(&#34;5,Hoàng Văn E,22,6.9,7.5,8.1\n&#34;); System.out.println(&#34;Đã tạo file CSV: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file CSV: &#34; &#43; e.getMessage()); } } private static List&lt;Student&gt; readCSV(String filename) { List&lt;Student&gt; students = new ArrayList&lt;&gt;(); try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { isFirstLine = false; continue; // Bỏ qua header } String[] fields = line.split(&#34;,&#34;); if (fields.length &gt;= 6) { Student student = new Student( Integer.parseInt(fields[0]), fields[1], Integer.parseInt(fields[2]), Double.parseDouble(fields[3]), Double.parseDouble(fields[4]), Double.parseDouble(fields[5]) ); students.add(student); } } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file CSV: &#34; &#43; e.getMessage()); } return students; } private static void displayStudents(List&lt;Student&gt; students) { System.out.println(&#34;\n=== Danh sách sinh viên ===&#34;); System.out.printf(&#34;%-5s %-15s %-5s %-8s %-8s %-8s %-8s%n&#34;, &#34;ID&#34;, &#34;Tên&#34;, &#34;Tuổi&#34;, &#34;Toán&#34;, &#34;Lý&#34;, &#34;Hóa&#34;, &#34;TB&#34;); System.out.println(&#34;-&#34;.repeat(70)); for (Student student : students) { System.out.printf(&#34;%-5d %-15s %-5d %-8.1f %-8.1f %-8.1f %-8.1f%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore() ); } } private static void writeProcessedCSV(String filename, List&lt;Student&gt; students) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa,Điểm TB,Xếp loại\n&#34;); // Data for (Student student : students) { writer.write(String.format(&#34;%d,%s,%d,%.1f,%.1f,%.1f,%.1f,%s%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore(), student.getGrade() )); } System.out.println(&#34;Đã ghi file CSV đã xử lý: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file CSV: &#34; &#43; e.getMessage()); } } } // Lớp Student để lưu trữ dữ liệu class Student { private int id; private String name; private int age; private double mathScore; private double physicsScore; private double chemistryScore; public Student(int id, String name, int age, double mathScore, double physicsScore, double chemistryScore) { this.id = id; this.name = name; this.age = age; this.mathScore = mathScore; this.physicsScore = physicsScore; this.chemistryScore = chemistryScore; } public double getAverageScore() { return (mathScore &#43; physicsScore &#43; chemistryScore) / 3.0; } public String getGrade() { double avg = getAverageScore(); if (avg &gt;= 9.0) return &#34;Xuất sắc&#34;; if (avg &gt;= 8.0) return &#34;Giỏi&#34;; if (avg &gt;= 7.0) return &#34;Khá&#34;; if (avg &gt;= 6.0) return &#34;Trung bình&#34;; return &#34;Yếu&#34;; } // Getters public int getId() { return id; } public String getName() { return name; } public int getAge() { return age; } public double getMathScore() { return mathScore; } public double getPhysicsScore() { return physicsScore; } public double getChemistryScore() { return chemistryScore; } } Ví dụ 5: Xử lý file Binary import java.io.*; import java.nio.file.*; public class BinaryFileExample { public static void main(String[] args) { String filename = &#34;data.bin&#34;; // Ghi file binary writeBinaryFile(filename); // Đọc file binary readBinaryFile(filename); // Sao chép file binary copyBinaryFile(filename, &#34;copy_&#34; &#43; filename); } private static void writeBinaryFile(String filename) { try (DataOutputStream dos = new DataOutputStream( new FileOutputStream(filename))) { // Ghi các kiểu dữ liệu khác nhau dos.writeInt(12345); dos.writeDouble(3.14159); dos.writeBoolean(true); dos.writeUTF(&#34;Hello Binary World!&#34;); dos.writeChar(&#39;A&#39;); System.out.println(&#34;Đã ghi file binary: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file binary: &#34; &#43; e.getMessage()); } } private static void readBinaryFile(String filename) { try (DataInputStream dis = new DataInputStream( new FileInputStream(filename))) { System.out.println(&#34;\n=== Đọc file binary ===&#34;); // Đọc theo đúng thứ tự đã ghi int intValue = dis.readInt(); double doubleValue = dis.readDouble(); boolean boolValue = dis.readBoolean(); String stringValue = dis.readUTF(); char charValue = dis.readChar(); System.out.println(&#34;Int: &#34; &#43; intValue); System.out.println(&#34;Double: &#34; &#43; doubleValue); System.out.println(&#34;Boolean: &#34; &#43; boolValue); System.out.println(&#34;String: &#34; &#43; stringValue); System.out.println(&#34;Char: &#34; &#43; charValue); } catch (IOException e) { System.err.println(&#34;Lỗi đọc file binary: &#34; &#43; e.getMessage()); } } private static void copyBinaryFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file binary Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); // Kiểm tra kích thước file long sourceSize = Files.size(sourcePath); long destSize = Files.size(destPath); System.out.println(&#34;Đã sao chép file binary: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); System.out.println(&#34;Kích thước file gốc: &#34; &#43; sourceSize &#43; &#34; bytes&#34;); System.out.println(&#34;Kích thước file copy: &#34; &#43; destSize &#43; &#34; bytes&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file binary: &#34; &#43; e.getMessage()); } } } Ví dụ 6: Quản lý thư mục import java.io.*; import java.nio.file.*; import java.util.stream.Stream; public class DirectoryManager { public static void main(String[] args) { String dirName = &#34;test_directory&#34;; // Tạo thư mục createDirectory(dirName); // Tạo file trong thư mục createFilesInDirectory(dirName); // Liệt kê nội dung thư mục listDirectoryContents(dirName); // Tìm kiếm file searchFiles(dirName, &#34;.txt&#34;); // Xóa thư mục deleteDirectory(dirName); } private static void createDirectory(String dirName) { try { Path dir = Paths.get(dirName); Files.createDirectories(dir); System.out.println(&#34;Đã tạo thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi tạo thư mục: &#34; &#43; e.getMessage()); } } private static void createFilesInDirectory(String dirName) { try { // Tạo các file khác nhau String[] files = {&#34;file1.txt&#34;, &#34;file2.log&#34;, &#34;file3.dat&#34;, &#34;subdir/file4.txt&#34;}; for (String fileName : files) { Path filePath = Paths.get(dirName, fileName); Files.createDirectories(filePath.getParent()); Files.write(filePath, (&#34;Nội dung file &#34; &#43; fileName).getBytes()); } System.out.println(&#34;Đã tạo các file trong thư mục&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void listDirectoryContents(String dirName) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Nội dung thư mục &#34; &#43; dirName &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.forEach(path -&gt; { try { if (Files.isDirectory(path)) { System.out.println(&#34;[DIR] &#34; &#43; path); } else { long size = Files.size(path); System.out.println(&#34;[FILE] &#34; &#43; path &#43; &#34; (&#34; &#43; size &#43; &#34; bytes)&#34;); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc thông tin file: &#34; &#43; e.getMessage()); } }); } } catch (IOException e) { System.err.println(&#34;Lỗi liệt kê thư mục: &#34; &#43; e.getMessage()); } } private static void searchFiles(String dirName, String extension) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Tìm file có đuôi &#34; &#43; extension &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.filter(Files::isRegularFile) .filter(path -&gt; path.toString().endsWith(extension)) .forEach(System.out::println); } } catch (IOException e) { System.err.println(&#34;Lỗi tìm kiếm file: &#34; &#43; e.getMessage()); } } private static void deleteDirectory(String dirName) { try { Path dir = Paths.get(dirName); // Xóa thư mục và tất cả nội dung bên trong Files.walk(dir) .sorted((a, b) -&gt; b.compareTo(a)) // Xóa file trước, thư mục sau .forEach(path -&gt; { try { Files.delete(path); System.out.println(&#34;Đã xóa: &#34; &#43; path); } catch (IOException e) { System.err.println(&#34;Lỗi xóa: &#34; &#43; path &#43; &#34; - &#34; &#43; e.getMessage()); } }); System.out.println(&#34;Đã xóa thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi xóa thư mục: &#34; &#43; e.getMessage()); } } } Best Practices cho File I/O 1. Luôn sử dụng try-with-resources // Tốt try (BufferedReader reader = new BufferedReader(new FileReader(&#34;file.txt&#34;))) { // xử lý file } catch (IOException e) { // xử lý lỗi } // Tránh BufferedReader reader = null; try { reader = new BufferedReader(new FileReader(&#34;file.txt&#34;)); // xử lý file } finally { if (reader != null) { try { reader.close(); } catch (IOException e) { } } } 2. Sử dụng encoding phù hợp // Luôn chỉ định encoding new FileReader(&#34;file.txt&#34;, StandardCharsets.UTF_8) new FileWriter(&#34;file.txt&#34;, StandardCharsets.UTF_8) 3. Kiểm tra file tồn tại Path path = Paths.get(&#34;file.txt&#34;); if (Files.exists(path)) { // xử lý file } else { System.out.println(&#34;File không tồn tại&#34;); } 4. Xử lý exception phù hợp try { // file operations } catch (FileNotFoundException e) { // file không tồn tại } catch (IOException e) { // lỗi I/O khác } Kết luận File I/O là một phần quan trọng trong lập trình Java. Việc hiểu và sử dụng đúng các API I/O sẽ giúp bạn tạo ra ứng dụng có thể xử lý dữ liệu một cách hiệu quả và an toàn. NIO.2 cung cấp API hiện đại và mạnh mẽ hơn so với traditional I/O, nên hãy ưu tiên sử dụng khi có thể.">
  <meta itemprop="datePublished" content="2025-10-17T09:40:00+07:00">
  <meta itemprop="dateModified" content="2025-10-17T09:40:00+07:00">
  <meta itemprop="wordCount" content="1987">
  <meta itemprop="keywords" content="Io,File,Java">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Java: Làm việc với file và I/O">
  <meta name="twitter:description" content="Giới thiệu về File I/O trong Java Java cung cấp nhiều cách để làm việc với file và I/O operations. Trong bài này, chúng ta sẽ tìm hiểu các phương pháp phổ biến nhất để đọc và ghi file.
Các lớp I/O chính 1. Traditional I/O (java.io) FileReader, FileWriter BufferedReader, BufferedWriter FileInputStream, FileOutputStream 2. NIO.2 (java.nio.file) Files class với các phương thức static Path interface Paths utility class Ví dụ 1: Đọc file với BufferedReader import java.io.*; import java.nio.charset.StandardCharsets; public class FileReaderExample { public static void main(String[] args) { String filename = &#34;input.txt&#34;; // Tạo file mẫu createSampleFile(filename); // Đọc file với BufferedReader try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { System.out.println(&#34;=== Nội dung file ===&#34;); String line; int lineNumber = 1; while ((line = reader.readLine()) != null) { System.out.println(lineNumber &#43; &#34;: &#34; &#43; line); lineNumber&#43;&#43;; } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void createSampleFile(String filename) { try (FileWriter writer = new FileWriter(filename, StandardCharsets.UTF_8)) { writer.write(&#34;Dòng 1: Chào mừng đến với Java I/O\n&#34;); writer.write(&#34;Dòng 2: Đây là ví dụ đọc file\n&#34;); writer.write(&#34;Dòng 3: Sử dụng BufferedReader\n&#34;); writer.write(&#34;Dòng 4: Với encoding UTF-8\n&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } } Ví dụ 2: Ghi file với BufferedWriter import java.io.*; import java.nio.charset.StandardCharsets; import java.time.LocalDateTime; public class FileWriterExample { public static void main(String[] args) { String filename = &#34;output.txt&#34;; try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Ghi thông tin vào file writer.write(&#34;=== Báo cáo hệ thống ===\n&#34;); writer.write(&#34;Thời gian tạo: &#34; &#43; LocalDateTime.now() &#43; &#34;\n&#34;); writer.write(&#34;Người dùng: &#34; &#43; System.getProperty(&#34;user.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Hệ điều hành: &#34; &#43; System.getProperty(&#34;os.name&#34;) &#43; &#34;\n&#34;); writer.write(&#34;Phiên bản Java: &#34; &#43; System.getProperty(&#34;java.version&#34;) &#43; &#34;\n&#34;); writer.write(&#34;\n&#34;); // Ghi danh sách số writer.write(&#34;Danh sách số từ 1 đến 10:\n&#34;); for (int i = 1; i &lt;= 10; i&#43;&#43;) { writer.write(&#34;Số &#34; &#43; i &#43; &#34;: &#34; &#43; (i * i) &#43; &#34;\n&#34;); } System.out.println(&#34;Đã ghi file thành công: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file: &#34; &#43; e.getMessage()); } } } Ví dụ 3: Sử dụng NIO.2 Files class import java.io.*; import java.nio.file.*; import java.util.List; import java.util.stream.Stream; public class NIO2FileExample { public static void main(String[] args) { String filename = &#34;nio_example.txt&#34;; // Tạo file với NIO.2 createFileWithNIO(filename); // Đọc file với Files.readAllLines() readFileWithNIO(filename); // Đọc file với Files.lines() (Stream) readFileWithStream(filename); // Sao chép file copyFile(filename, &#34;copy_of_&#34; &#43; filename); } private static void createFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Tạo nội dung file List&lt;String&gt; lines = List.of( &#34;Dòng 1: Sử dụng NIO.2 Files class&#34;, &#34;Dòng 2: Đây là cách hiện đại để làm việc với file&#34;, &#34;Dòng 3: Files.write() rất tiện lợi&#34;, &#34;Dòng 4: Hỗ trợ encoding UTF-8 mặc định&#34; ); // Ghi file Files.write(path, lines, StandardOpenOption.CREATE); System.out.println(&#34;Đã tạo file: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void readFileWithNIO(String filename) { try { Path path = Paths.get(filename); // Đọc tất cả dòng vào List List&lt;String&gt; lines = Files.readAllLines(path); System.out.println(&#34;\n=== Đọc file với readAllLines() ===&#34;); for (int i = 0; i &lt; lines.size(); i&#43;&#43;) { System.out.println((i &#43; 1) &#43; &#34;: &#34; &#43; lines.get(i)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void readFileWithStream(String filename) { try { Path path = Paths.get(filename); System.out.println(&#34;\n=== Đọc file với Stream ===&#34;); try (Stream&lt;String&gt; lines = Files.lines(path)) { lines.forEach(line -&gt; System.out.println(&#34;Stream: &#34; &#43; line)); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file: &#34; &#43; e.getMessage()); } } private static void copyFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); System.out.println(&#34;Đã sao chép file: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file: &#34; &#43; e.getMessage()); } } } Ví dụ 4: Xử lý file CSV import java.io.*; import java.nio.charset.StandardCharsets; import java.util.*; public class CSVProcessor { public static void main(String[] args) { String csvFile = &#34;students.csv&#34;; // Tạo file CSV mẫu createSampleCSV(csvFile); // Đọc và xử lý file CSV List&lt;Student&gt; students = readCSV(csvFile); // Hiển thị dữ liệu displayStudents(students); // Ghi file CSV mới với dữ liệu đã xử lý writeProcessedCSV(&#34;processed_students.csv&#34;, students); } private static void createSampleCSV(String filename) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa\n&#34;); // Data writer.write(&#34;1,Nguyễn Văn A,20,8.5,7.8,9.2\n&#34;); writer.write(&#34;2,Trần Thị B,19,9.1,8.9,8.7\n&#34;); writer.write(&#34;3,Lê Văn C,21,7.5,8.2,7.9\n&#34;); writer.write(&#34;4,Phạm Thị D,20,8.8,9.1,8.5\n&#34;); writer.write(&#34;5,Hoàng Văn E,22,6.9,7.5,8.1\n&#34;); System.out.println(&#34;Đã tạo file CSV: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file CSV: &#34; &#43; e.getMessage()); } } private static List&lt;Student&gt; readCSV(String filename) { List&lt;Student&gt; students = new ArrayList&lt;&gt;(); try (BufferedReader reader = new BufferedReader( new FileReader(filename, StandardCharsets.UTF_8))) { String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { isFirstLine = false; continue; // Bỏ qua header } String[] fields = line.split(&#34;,&#34;); if (fields.length &gt;= 6) { Student student = new Student( Integer.parseInt(fields[0]), fields[1], Integer.parseInt(fields[2]), Double.parseDouble(fields[3]), Double.parseDouble(fields[4]), Double.parseDouble(fields[5]) ); students.add(student); } } } catch (IOException e) { System.err.println(&#34;Lỗi đọc file CSV: &#34; &#43; e.getMessage()); } return students; } private static void displayStudents(List&lt;Student&gt; students) { System.out.println(&#34;\n=== Danh sách sinh viên ===&#34;); System.out.printf(&#34;%-5s %-15s %-5s %-8s %-8s %-8s %-8s%n&#34;, &#34;ID&#34;, &#34;Tên&#34;, &#34;Tuổi&#34;, &#34;Toán&#34;, &#34;Lý&#34;, &#34;Hóa&#34;, &#34;TB&#34;); System.out.println(&#34;-&#34;.repeat(70)); for (Student student : students) { System.out.printf(&#34;%-5d %-15s %-5d %-8.1f %-8.1f %-8.1f %-8.1f%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore() ); } } private static void writeProcessedCSV(String filename, List&lt;Student&gt; students) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(filename, StandardCharsets.UTF_8))) { // Header writer.write(&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa,Điểm TB,Xếp loại\n&#34;); // Data for (Student student : students) { writer.write(String.format(&#34;%d,%s,%d,%.1f,%.1f,%.1f,%.1f,%s%n&#34;, student.getId(), student.getName(), student.getAge(), student.getMathScore(), student.getPhysicsScore(), student.getChemistryScore(), student.getAverageScore(), student.getGrade() )); } System.out.println(&#34;Đã ghi file CSV đã xử lý: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file CSV: &#34; &#43; e.getMessage()); } } } // Lớp Student để lưu trữ dữ liệu class Student { private int id; private String name; private int age; private double mathScore; private double physicsScore; private double chemistryScore; public Student(int id, String name, int age, double mathScore, double physicsScore, double chemistryScore) { this.id = id; this.name = name; this.age = age; this.mathScore = mathScore; this.physicsScore = physicsScore; this.chemistryScore = chemistryScore; } public double getAverageScore() { return (mathScore &#43; physicsScore &#43; chemistryScore) / 3.0; } public String getGrade() { double avg = getAverageScore(); if (avg &gt;= 9.0) return &#34;Xuất sắc&#34;; if (avg &gt;= 8.0) return &#34;Giỏi&#34;; if (avg &gt;= 7.0) return &#34;Khá&#34;; if (avg &gt;= 6.0) return &#34;Trung bình&#34;; return &#34;Yếu&#34;; } // Getters public int getId() { return id; } public String getName() { return name; } public int getAge() { return age; } public double getMathScore() { return mathScore; } public double getPhysicsScore() { return physicsScore; } public double getChemistryScore() { return chemistryScore; } } Ví dụ 5: Xử lý file Binary import java.io.*; import java.nio.file.*; public class BinaryFileExample { public static void main(String[] args) { String filename = &#34;data.bin&#34;; // Ghi file binary writeBinaryFile(filename); // Đọc file binary readBinaryFile(filename); // Sao chép file binary copyBinaryFile(filename, &#34;copy_&#34; &#43; filename); } private static void writeBinaryFile(String filename) { try (DataOutputStream dos = new DataOutputStream( new FileOutputStream(filename))) { // Ghi các kiểu dữ liệu khác nhau dos.writeInt(12345); dos.writeDouble(3.14159); dos.writeBoolean(true); dos.writeUTF(&#34;Hello Binary World!&#34;); dos.writeChar(&#39;A&#39;); System.out.println(&#34;Đã ghi file binary: &#34; &#43; filename); } catch (IOException e) { System.err.println(&#34;Lỗi ghi file binary: &#34; &#43; e.getMessage()); } } private static void readBinaryFile(String filename) { try (DataInputStream dis = new DataInputStream( new FileInputStream(filename))) { System.out.println(&#34;\n=== Đọc file binary ===&#34;); // Đọc theo đúng thứ tự đã ghi int intValue = dis.readInt(); double doubleValue = dis.readDouble(); boolean boolValue = dis.readBoolean(); String stringValue = dis.readUTF(); char charValue = dis.readChar(); System.out.println(&#34;Int: &#34; &#43; intValue); System.out.println(&#34;Double: &#34; &#43; doubleValue); System.out.println(&#34;Boolean: &#34; &#43; boolValue); System.out.println(&#34;String: &#34; &#43; stringValue); System.out.println(&#34;Char: &#34; &#43; charValue); } catch (IOException e) { System.err.println(&#34;Lỗi đọc file binary: &#34; &#43; e.getMessage()); } } private static void copyBinaryFile(String source, String destination) { try { Path sourcePath = Paths.get(source); Path destPath = Paths.get(destination); // Sao chép file binary Files.copy(sourcePath, destPath, StandardCopyOption.REPLACE_EXISTING); // Kiểm tra kích thước file long sourceSize = Files.size(sourcePath); long destSize = Files.size(destPath); System.out.println(&#34;Đã sao chép file binary: &#34; &#43; source &#43; &#34; -&gt; &#34; &#43; destination); System.out.println(&#34;Kích thước file gốc: &#34; &#43; sourceSize &#43; &#34; bytes&#34;); System.out.println(&#34;Kích thước file copy: &#34; &#43; destSize &#43; &#34; bytes&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi sao chép file binary: &#34; &#43; e.getMessage()); } } } Ví dụ 6: Quản lý thư mục import java.io.*; import java.nio.file.*; import java.util.stream.Stream; public class DirectoryManager { public static void main(String[] args) { String dirName = &#34;test_directory&#34;; // Tạo thư mục createDirectory(dirName); // Tạo file trong thư mục createFilesInDirectory(dirName); // Liệt kê nội dung thư mục listDirectoryContents(dirName); // Tìm kiếm file searchFiles(dirName, &#34;.txt&#34;); // Xóa thư mục deleteDirectory(dirName); } private static void createDirectory(String dirName) { try { Path dir = Paths.get(dirName); Files.createDirectories(dir); System.out.println(&#34;Đã tạo thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi tạo thư mục: &#34; &#43; e.getMessage()); } } private static void createFilesInDirectory(String dirName) { try { // Tạo các file khác nhau String[] files = {&#34;file1.txt&#34;, &#34;file2.log&#34;, &#34;file3.dat&#34;, &#34;subdir/file4.txt&#34;}; for (String fileName : files) { Path filePath = Paths.get(dirName, fileName); Files.createDirectories(filePath.getParent()); Files.write(filePath, (&#34;Nội dung file &#34; &#43; fileName).getBytes()); } System.out.println(&#34;Đã tạo các file trong thư mục&#34;); } catch (IOException e) { System.err.println(&#34;Lỗi tạo file: &#34; &#43; e.getMessage()); } } private static void listDirectoryContents(String dirName) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Nội dung thư mục &#34; &#43; dirName &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.forEach(path -&gt; { try { if (Files.isDirectory(path)) { System.out.println(&#34;[DIR] &#34; &#43; path); } else { long size = Files.size(path); System.out.println(&#34;[FILE] &#34; &#43; path &#43; &#34; (&#34; &#43; size &#43; &#34; bytes)&#34;); } } catch (IOException e) { System.err.println(&#34;Lỗi đọc thông tin file: &#34; &#43; e.getMessage()); } }); } } catch (IOException e) { System.err.println(&#34;Lỗi liệt kê thư mục: &#34; &#43; e.getMessage()); } } private static void searchFiles(String dirName, String extension) { try { Path dir = Paths.get(dirName); System.out.println(&#34;\n=== Tìm file có đuôi &#34; &#43; extension &#43; &#34; ===&#34;); try (Stream&lt;Path&gt; paths = Files.walk(dir)) { paths.filter(Files::isRegularFile) .filter(path -&gt; path.toString().endsWith(extension)) .forEach(System.out::println); } } catch (IOException e) { System.err.println(&#34;Lỗi tìm kiếm file: &#34; &#43; e.getMessage()); } } private static void deleteDirectory(String dirName) { try { Path dir = Paths.get(dirName); // Xóa thư mục và tất cả nội dung bên trong Files.walk(dir) .sorted((a, b) -&gt; b.compareTo(a)) // Xóa file trước, thư mục sau .forEach(path -&gt; { try { Files.delete(path); System.out.println(&#34;Đã xóa: &#34; &#43; path); } catch (IOException e) { System.err.println(&#34;Lỗi xóa: &#34; &#43; path &#43; &#34; - &#34; &#43; e.getMessage()); } }); System.out.println(&#34;Đã xóa thư mục: &#34; &#43; dirName); } catch (IOException e) { System.err.println(&#34;Lỗi xóa thư mục: &#34; &#43; e.getMessage()); } } } Best Practices cho File I/O 1. Luôn sử dụng try-with-resources // Tốt try (BufferedReader reader = new BufferedReader(new FileReader(&#34;file.txt&#34;))) { // xử lý file } catch (IOException e) { // xử lý lỗi } // Tránh BufferedReader reader = null; try { reader = new BufferedReader(new FileReader(&#34;file.txt&#34;)); // xử lý file } finally { if (reader != null) { try { reader.close(); } catch (IOException e) { } } } 2. Sử dụng encoding phù hợp // Luôn chỉ định encoding new FileReader(&#34;file.txt&#34;, StandardCharsets.UTF_8) new FileWriter(&#34;file.txt&#34;, StandardCharsets.UTF_8) 3. Kiểm tra file tồn tại Path path = Paths.get(&#34;file.txt&#34;); if (Files.exists(path)) { // xử lý file } else { System.out.println(&#34;File không tồn tại&#34;); } 4. Xử lý exception phù hợp try { // file operations } catch (FileNotFoundException e) { // file không tồn tại } catch (IOException e) { // lỗi I/O khác } Kết luận File I/O là một phần quan trọng trong lập trình Java. Việc hiểu và sử dụng đúng các API I/O sẽ giúp bạn tạo ra ứng dụng có thể xử lý dữ liệu một cách hiệu quả và an toàn. NIO.2 cung cấp API hiện đại và mạnh mẽ hơn so với traditional I/O, nên hãy ưu tiên sử dụng khi có thể.">
      <meta name="twitter:site" content="@https://twitter.com/phuoc_dev">

      
    
	<link rel="stylesheet" href="/css/blogger-about.css" />
<script src="/js/search.js" defer></script>
<script src="/js/animations.js" defer></script>


  </head><body class="ma0 avenir bg-near-white production">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/blogphuoc.github.io/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Blog Tiến Phước
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/blogphuoc.github.io/" title="Trang chủ page">
              Trang chủ
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/blogphuoc.github.io/posts/" title="Blog page">
              Blog
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/blogphuoc.github.io/about/" title="Giới thiệu page">
              Giới thiệu
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

      
        <a class="ml3 f6 white-80 no-underline" href="https://phuoc0209.github.io/blogphuoc.github.io/" target="_blank" rel="noopener">GitHub</a>
      
    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Java: Làm việc với file và I/O
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
<article class="mw7 center ph3 pv5">
  
  <header class="mb4 tc">
    <h1 class="f1 lh-title athelas mb2 dark-gray">
      Java: Làm việc với file và I/O
    </h1>

    
      <p class="f6 gray mv2">
        ✍️ <strong>Nguyễn Tiến Phước</strong>
      </p>
    

    
      <time class="f6 gray db">
        📅 17 Oct 2025
      </time>
    

    
  </header>

  
  <div class="lh-copy f4 serif mid-gray measure-wide center">
    <h2 id="giới-thiệu-về-file-io-trong-java">Giới thiệu về File I/O trong Java</h2>
<p>Java cung cấp nhiều cách để làm việc với file và I/O operations. Trong bài này, chúng ta sẽ tìm hiểu các phương pháp phổ biến nhất để đọc và ghi file.</p>
<h2 id="các-lớp-io-chính">Các lớp I/O chính</h2>
<h3 id="1-traditional-io-javaio">1. Traditional I/O (java.io)</h3>
<ul>
<li><code>FileReader</code>, <code>FileWriter</code></li>
<li><code>BufferedReader</code>, <code>BufferedWriter</code></li>
<li><code>FileInputStream</code>, <code>FileOutputStream</code></li>
</ul>
<h3 id="2-nio2-javaniofile">2. NIO.2 (java.nio.file)</h3>
<ul>
<li><code>Files</code> class với các phương thức static</li>
<li><code>Path</code> interface</li>
<li><code>Paths</code> utility class</li>
</ul>
<h2 id="ví-dụ-1-đọc-file-với-bufferedreader">Ví dụ 1: Đọc file với BufferedReader</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.charset.StandardCharsets;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FileReaderExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;input.txt&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo file mẫu</span>
</span></span><span style="display:flex;"><span>        createSampleFile(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Đọc file với BufferedReader</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileReader(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;=== Nội dung file ===&#34;</span>);
</span></span><span style="display:flex;"><span>            String line;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> lineNumber <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> ((line <span style="color:#f92672">=</span> reader.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(lineNumber <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> line);
</span></span><span style="display:flex;"><span>                lineNumber<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createSampleFile</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (FileWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileWriter(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>)) {
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Dòng 1: Chào mừng đến với Java I/O\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Dòng 2: Đây là ví dụ đọc file\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Dòng 3: Sử dụng BufferedReader\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Dòng 4: Với encoding UTF-8\n&#34;</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tạo file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-2-ghi-file-với-bufferedwriter">Ví dụ 2: Ghi file với BufferedWriter</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.charset.StandardCharsets;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.time.LocalDateTime;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FileWriterExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;output.txt&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedWriter(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileWriter(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Ghi thông tin vào file</span>
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;=== Báo cáo hệ thống ===\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Thời gian tạo: &#34;</span> <span style="color:#f92672">+</span> LocalDateTime.<span style="color:#a6e22e">now</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Người dùng: &#34;</span> <span style="color:#f92672">+</span> System.<span style="color:#a6e22e">getProperty</span>(<span style="color:#e6db74">&#34;user.name&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Hệ điều hành: &#34;</span> <span style="color:#f92672">+</span> System.<span style="color:#a6e22e">getProperty</span>(<span style="color:#e6db74">&#34;os.name&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Phiên bản Java: &#34;</span> <span style="color:#f92672">+</span> System.<span style="color:#a6e22e">getProperty</span>(<span style="color:#e6db74">&#34;java.version&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Ghi danh sách số</span>
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Danh sách số từ 1 đến 10:\n&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1; i <span style="color:#f92672">&lt;=</span> 10; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;Số &#34;</span> <span style="color:#f92672">+</span> i <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> (i <span style="color:#f92672">*</span> i) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã ghi file thành công: &#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi ghi file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-3-sử-dụng-nio2-files-class">Ví dụ 3: Sử dụng NIO.2 Files class</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.stream.Stream;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NIO2FileExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;nio_example.txt&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo file với NIO.2</span>
</span></span><span style="display:flex;"><span>        createFileWithNIO(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Đọc file với Files.readAllLines()</span>
</span></span><span style="display:flex;"><span>        readFileWithNIO(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Đọc file với Files.lines() (Stream)</span>
</span></span><span style="display:flex;"><span>        readFileWithStream(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sao chép file</span>
</span></span><span style="display:flex;"><span>        copyFile(filename, <span style="color:#e6db74">&#34;copy_of_&#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createFileWithNIO</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path path <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Tạo nội dung file</span>
</span></span><span style="display:flex;"><span>            List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lines <span style="color:#f92672">=</span> List.<span style="color:#a6e22e">of</span>(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Dòng 1: Sử dụng NIO.2 Files class&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Dòng 2: Đây là cách hiện đại để làm việc với file&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Dòng 3: Files.write() rất tiện lợi&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Dòng 4: Hỗ trợ encoding UTF-8 mặc định&#34;</span>
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Ghi file</span>
</span></span><span style="display:flex;"><span>            Files.<span style="color:#a6e22e">write</span>(path, lines, StandardOpenOption.<span style="color:#a6e22e">CREATE</span>);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã tạo file: &#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tạo file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">readFileWithNIO</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path path <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Đọc tất cả dòng vào List</span>
</span></span><span style="display:flex;"><span>            List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lines <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">readAllLines</span>(path);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Đọc file với readAllLines() ===&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> lines.<span style="color:#a6e22e">size</span>(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>((i <span style="color:#f92672">+</span> 1) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;: &#34;</span> <span style="color:#f92672">+</span> lines.<span style="color:#a6e22e">get</span>(i));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">readFileWithStream</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path path <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Đọc file với Stream ===&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> lines <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">lines</span>(path)) {
</span></span><span style="display:flex;"><span>                lines.<span style="color:#a6e22e">forEach</span>(line <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Stream: &#34;</span> <span style="color:#f92672">+</span> line));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">copyFile</span>(String source, String destination) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path sourcePath <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(source);
</span></span><span style="display:flex;"><span>            Path destPath <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(destination);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Sao chép file</span>
</span></span><span style="display:flex;"><span>            Files.<span style="color:#a6e22e">copy</span>(sourcePath, destPath, StandardCopyOption.<span style="color:#a6e22e">REPLACE_EXISTING</span>);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã sao chép file: &#34;</span> <span style="color:#f92672">+</span> source <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; -&gt; &#34;</span> <span style="color:#f92672">+</span> destination);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi sao chép file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-4-xử-lý-file-csv">Ví dụ 4: Xử lý file CSV</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.charset.StandardCharsets;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSVProcessor</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String csvFile <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;students.csv&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo file CSV mẫu</span>
</span></span><span style="display:flex;"><span>        createSampleCSV(csvFile);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Đọc và xử lý file CSV</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> students <span style="color:#f92672">=</span> readCSV(csvFile);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Hiển thị dữ liệu</span>
</span></span><span style="display:flex;"><span>        displayStudents(students);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Ghi file CSV mới với dữ liệu đã xử lý</span>
</span></span><span style="display:flex;"><span>        writeProcessedCSV(<span style="color:#e6db74">&#34;processed_students.csv&#34;</span>, students);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createSampleCSV</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedWriter(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileWriter(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Header</span>
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa\n&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Data</span>
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;1,Nguyễn Văn A,20,8.5,7.8,9.2\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;2,Trần Thị B,19,9.1,8.9,8.7\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;3,Lê Văn C,21,7.5,8.2,7.9\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;4,Phạm Thị D,20,8.8,9.1,8.5\n&#34;</span>);
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;5,Hoàng Văn E,22,6.9,7.5,8.1\n&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã tạo file CSV: &#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tạo file CSV: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">readCSV</span>(String filename) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> students <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileReader(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            String line;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">boolean</span> isFirstLine <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> ((line <span style="color:#f92672">=</span> reader.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (isFirstLine) {
</span></span><span style="display:flex;"><span>                    isFirstLine <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">continue</span>; <span style="color:#75715e">// Bỏ qua header</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                String<span style="color:#f92672">[]</span> fields <span style="color:#f92672">=</span> line.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;,&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (fields.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> 6) {
</span></span><span style="display:flex;"><span>                    Student student <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student(
</span></span><span style="display:flex;"><span>                        Integer.<span style="color:#a6e22e">parseInt</span>(fields<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>),
</span></span><span style="display:flex;"><span>                        fields<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>                        Integer.<span style="color:#a6e22e">parseInt</span>(fields<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>),
</span></span><span style="display:flex;"><span>                        Double.<span style="color:#a6e22e">parseDouble</span>(fields<span style="color:#f92672">[</span>3<span style="color:#f92672">]</span>),
</span></span><span style="display:flex;"><span>                        Double.<span style="color:#a6e22e">parseDouble</span>(fields<span style="color:#f92672">[</span>4<span style="color:#f92672">]</span>),
</span></span><span style="display:flex;"><span>                        Double.<span style="color:#a6e22e">parseDouble</span>(fields<span style="color:#f92672">[</span>5<span style="color:#f92672">]</span>)
</span></span><span style="display:flex;"><span>                    );
</span></span><span style="display:flex;"><span>                    students.<span style="color:#a6e22e">add</span>(student);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc file CSV: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> students;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">displayStudents</span>(List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> students) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Danh sách sinh viên ===&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%-5s %-15s %-5s %-8s %-8s %-8s %-8s%n&#34;</span>, 
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;ID&#34;</span>, <span style="color:#e6db74">&#34;Tên&#34;</span>, <span style="color:#e6db74">&#34;Tuổi&#34;</span>, <span style="color:#e6db74">&#34;Toán&#34;</span>, <span style="color:#e6db74">&#34;Lý&#34;</span>, <span style="color:#e6db74">&#34;Hóa&#34;</span>, <span style="color:#e6db74">&#34;TB&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;-&#34;</span>.<span style="color:#a6e22e">repeat</span>(70));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (Student student : students) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%-5d %-15s %-5d %-8.1f %-8.1f %-8.1f %-8.1f%n&#34;</span>,
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getId</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getName</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getAge</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getMathScore</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getPhysicsScore</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getChemistryScore</span>(),
</span></span><span style="display:flex;"><span>                student.<span style="color:#a6e22e">getAverageScore</span>()
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeProcessedCSV</span>(String filename, List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> students) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedWriter writer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedWriter(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileWriter(filename, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Header</span>
</span></span><span style="display:flex;"><span>            writer.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;ID,Tên,Tuổi,Điểm Toán,Điểm Lý,Điểm Hóa,Điểm TB,Xếp loại\n&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Data</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (Student student : students) {
</span></span><span style="display:flex;"><span>                writer.<span style="color:#a6e22e">write</span>(String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;%d,%s,%d,%.1f,%.1f,%.1f,%.1f,%s%n&#34;</span>,
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getId</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getName</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getAge</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getMathScore</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getPhysicsScore</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getChemistryScore</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getAverageScore</span>(),
</span></span><span style="display:flex;"><span>                    student.<span style="color:#a6e22e">getGrade</span>()
</span></span><span style="display:flex;"><span>                ));
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã ghi file CSV đã xử lý: &#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi ghi file CSV: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Lớp Student để lưu trữ dữ liệu</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> id;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> mathScore;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> physicsScore;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> chemistryScore;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span>(<span style="color:#66d9ef">int</span> id, String name, <span style="color:#66d9ef">int</span> age, <span style="color:#66d9ef">double</span> mathScore, 
</span></span><span style="display:flex;"><span>                   <span style="color:#66d9ef">double</span> physicsScore, <span style="color:#66d9ef">double</span> chemistryScore) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">mathScore</span> <span style="color:#f92672">=</span> mathScore;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">physicsScore</span> <span style="color:#f92672">=</span> physicsScore;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">chemistryScore</span> <span style="color:#f92672">=</span> chemistryScore;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getAverageScore</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (mathScore <span style="color:#f92672">+</span> physicsScore <span style="color:#f92672">+</span> chemistryScore) <span style="color:#f92672">/</span> 3.<span style="color:#a6e22e">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getGrade</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> avg <span style="color:#f92672">=</span> getAverageScore();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (avg <span style="color:#f92672">&gt;=</span> 9.<span style="color:#a6e22e">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Xuất sắc&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (avg <span style="color:#f92672">&gt;=</span> 8.<span style="color:#a6e22e">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Giỏi&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (avg <span style="color:#f92672">&gt;=</span> 7.<span style="color:#a6e22e">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Khá&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (avg <span style="color:#f92672">&gt;=</span> 6.<span style="color:#a6e22e">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Trung bình&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Yếu&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Getters</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getId</span>() { <span style="color:#66d9ef">return</span> id; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span>() { <span style="color:#66d9ef">return</span> name; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span>() { <span style="color:#66d9ef">return</span> age; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getMathScore</span>() { <span style="color:#66d9ef">return</span> mathScore; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getPhysicsScore</span>() { <span style="color:#66d9ef">return</span> physicsScore; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getChemistryScore</span>() { <span style="color:#66d9ef">return</span> chemistryScore; }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-5-xử-lý-file-binary">Ví dụ 5: Xử lý file Binary</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BinaryFileExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String filename <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;data.bin&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Ghi file binary</span>
</span></span><span style="display:flex;"><span>        writeBinaryFile(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Đọc file binary</span>
</span></span><span style="display:flex;"><span>        readBinaryFile(filename);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sao chép file binary</span>
</span></span><span style="display:flex;"><span>        copyBinaryFile(filename, <span style="color:#e6db74">&#34;copy_&#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeBinaryFile</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (DataOutputStream dos <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DataOutputStream(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileOutputStream(filename))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Ghi các kiểu dữ liệu khác nhau</span>
</span></span><span style="display:flex;"><span>            dos.<span style="color:#a6e22e">writeInt</span>(12345);
</span></span><span style="display:flex;"><span>            dos.<span style="color:#a6e22e">writeDouble</span>(3.<span style="color:#a6e22e">14159</span>);
</span></span><span style="display:flex;"><span>            dos.<span style="color:#a6e22e">writeBoolean</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>            dos.<span style="color:#a6e22e">writeUTF</span>(<span style="color:#e6db74">&#34;Hello Binary World!&#34;</span>);
</span></span><span style="display:flex;"><span>            dos.<span style="color:#a6e22e">writeChar</span>(<span style="color:#e6db74">&#39;A&#39;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã ghi file binary: &#34;</span> <span style="color:#f92672">+</span> filename);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi ghi file binary: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">readBinaryFile</span>(String filename) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (DataInputStream dis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DataInputStream(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> FileInputStream(filename))) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Đọc file binary ===&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Đọc theo đúng thứ tự đã ghi</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> intValue <span style="color:#f92672">=</span> dis.<span style="color:#a6e22e">readInt</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">double</span> doubleValue <span style="color:#f92672">=</span> dis.<span style="color:#a6e22e">readDouble</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">boolean</span> boolValue <span style="color:#f92672">=</span> dis.<span style="color:#a6e22e">readBoolean</span>();
</span></span><span style="display:flex;"><span>            String stringValue <span style="color:#f92672">=</span> dis.<span style="color:#a6e22e">readUTF</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> charValue <span style="color:#f92672">=</span> dis.<span style="color:#a6e22e">readChar</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Int: &#34;</span> <span style="color:#f92672">+</span> intValue);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Double: &#34;</span> <span style="color:#f92672">+</span> doubleValue);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Boolean: &#34;</span> <span style="color:#f92672">+</span> boolValue);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;String: &#34;</span> <span style="color:#f92672">+</span> stringValue);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Char: &#34;</span> <span style="color:#f92672">+</span> charValue);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc file binary: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">copyBinaryFile</span>(String source, String destination) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path sourcePath <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(source);
</span></span><span style="display:flex;"><span>            Path destPath <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(destination);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Sao chép file binary</span>
</span></span><span style="display:flex;"><span>            Files.<span style="color:#a6e22e">copy</span>(sourcePath, destPath, StandardCopyOption.<span style="color:#a6e22e">REPLACE_EXISTING</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Kiểm tra kích thước file</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> sourceSize <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">size</span>(sourcePath);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> destSize <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">size</span>(destPath);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã sao chép file binary: &#34;</span> <span style="color:#f92672">+</span> source <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; -&gt; &#34;</span> <span style="color:#f92672">+</span> destination);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Kích thước file gốc: &#34;</span> <span style="color:#f92672">+</span> sourceSize <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bytes&#34;</span>);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Kích thước file copy: &#34;</span> <span style="color:#f92672">+</span> destSize <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bytes&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi sao chép file binary: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-6-quản-lý-thư-mục">Ví dụ 6: Quản lý thư mục</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.file.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.stream.Stream;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DirectoryManager</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String dirName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test_directory&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo thư mục</span>
</span></span><span style="display:flex;"><span>        createDirectory(dirName);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tạo file trong thư mục</span>
</span></span><span style="display:flex;"><span>        createFilesInDirectory(dirName);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Liệt kê nội dung thư mục</span>
</span></span><span style="display:flex;"><span>        listDirectoryContents(dirName);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tìm kiếm file</span>
</span></span><span style="display:flex;"><span>        searchFiles(dirName, <span style="color:#e6db74">&#34;.txt&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Xóa thư mục</span>
</span></span><span style="display:flex;"><span>        deleteDirectory(dirName);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createDirectory</span>(String dirName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path dir <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(dirName);
</span></span><span style="display:flex;"><span>            Files.<span style="color:#a6e22e">createDirectories</span>(dir);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã tạo thư mục: &#34;</span> <span style="color:#f92672">+</span> dirName);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tạo thư mục: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createFilesInDirectory</span>(String dirName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Tạo các file khác nhau</span>
</span></span><span style="display:flex;"><span>            String<span style="color:#f92672">[]</span> files <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;file1.txt&#34;</span>, <span style="color:#e6db74">&#34;file2.log&#34;</span>, <span style="color:#e6db74">&#34;file3.dat&#34;</span>, <span style="color:#e6db74">&#34;subdir/file4.txt&#34;</span>};
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (String fileName : files) {
</span></span><span style="display:flex;"><span>                Path filePath <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(dirName, fileName);
</span></span><span style="display:flex;"><span>                Files.<span style="color:#a6e22e">createDirectories</span>(filePath.<span style="color:#a6e22e">getParent</span>());
</span></span><span style="display:flex;"><span>                Files.<span style="color:#a6e22e">write</span>(filePath, (<span style="color:#e6db74">&#34;Nội dung file &#34;</span> <span style="color:#f92672">+</span> fileName).<span style="color:#a6e22e">getBytes</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã tạo các file trong thư mục&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tạo file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listDirectoryContents</span>(String dirName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path dir <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(dirName);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Nội dung thư mục &#34;</span> <span style="color:#f92672">+</span> dirName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; ===&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (Stream<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> paths <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">walk</span>(dir)) {
</span></span><span style="display:flex;"><span>                paths.<span style="color:#a6e22e">forEach</span>(path <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (Files.<span style="color:#a6e22e">isDirectory</span>(path)) {
</span></span><span style="display:flex;"><span>                            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[DIR]  &#34;</span> <span style="color:#f92672">+</span> path);
</span></span><span style="display:flex;"><span>                        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">long</span> size <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">size</span>(path);
</span></span><span style="display:flex;"><span>                            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[FILE] &#34;</span> <span style="color:#f92672">+</span> path <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; (&#34;</span> <span style="color:#f92672">+</span> size <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bytes)&#34;</span>);
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi đọc thông tin file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi liệt kê thư mục: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">searchFiles</span>(String dirName, String extension) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path dir <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(dirName);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Tìm file có đuôi &#34;</span> <span style="color:#f92672">+</span> extension <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; ===&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (Stream<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> paths <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">walk</span>(dir)) {
</span></span><span style="display:flex;"><span>                paths.<span style="color:#a6e22e">filter</span>(Files::isRegularFile)
</span></span><span style="display:flex;"><span>                     .<span style="color:#a6e22e">filter</span>(path <span style="color:#f92672">-&gt;</span> path.<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">endsWith</span>(extension))
</span></span><span style="display:flex;"><span>                     .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi tìm kiếm file: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">deleteDirectory</span>(String dirName) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Path dir <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(dirName);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Xóa thư mục và tất cả nội dung bên trong</span>
</span></span><span style="display:flex;"><span>            Files.<span style="color:#a6e22e">walk</span>(dir)
</span></span><span style="display:flex;"><span>                 .<span style="color:#a6e22e">sorted</span>((a, b) <span style="color:#f92672">-&gt;</span> b.<span style="color:#a6e22e">compareTo</span>(a)) <span style="color:#75715e">// Xóa file trước, thư mục sau</span>
</span></span><span style="display:flex;"><span>                 .<span style="color:#a6e22e">forEach</span>(path <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>                     <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                         Files.<span style="color:#a6e22e">delete</span>(path);
</span></span><span style="display:flex;"><span>                         System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã xóa: &#34;</span> <span style="color:#f92672">+</span> path);
</span></span><span style="display:flex;"><span>                     } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>                         System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi xóa: &#34;</span> <span style="color:#f92672">+</span> path <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; - &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                     }
</span></span><span style="display:flex;"><span>                 });
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Đã xóa thư mục: &#34;</span> <span style="color:#f92672">+</span> dirName);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Lỗi xóa thư mục: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="best-practices-cho-file-io">Best Practices cho File I/O</h2>
<h3 id="1-luôn-sử-dụng-try-with-resources">1. Luôn sử dụng try-with-resources</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Tốt</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> (BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(<span style="color:#66d9ef">new</span> FileReader(<span style="color:#e6db74">&#34;file.txt&#34;</span>))) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// xử lý file</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// xử lý lỗi</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Tránh</span>
</span></span><span style="display:flex;"><span>BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(<span style="color:#66d9ef">new</span> FileReader(<span style="color:#e6db74">&#34;file.txt&#34;</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// xử lý file</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (reader <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> { reader.<span style="color:#a6e22e">close</span>(); } <span style="color:#66d9ef">catch</span> (IOException e) { }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-sử-dụng-encoding-phù-hợp">2. Sử dụng encoding phù hợp</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Luôn chỉ định encoding</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">new</span> FileReader(<span style="color:#e6db74">&#34;file.txt&#34;</span>, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">new</span> FileWriter(<span style="color:#e6db74">&#34;file.txt&#34;</span>, StandardCharsets.<span style="color:#a6e22e">UTF_8</span>)
</span></span></code></pre></div><h3 id="3-kiểm-tra-file-tồn-tại">3. Kiểm tra file tồn tại</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Path path <span style="color:#f92672">=</span> Paths.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;file.txt&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (Files.<span style="color:#a6e22e">exists</span>(path)) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// xử lý file</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;File không tồn tại&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="4-xử-lý-exception-phù-hợp">4. Xử lý exception phù hợp</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// file operations</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// file không tồn tại</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// lỗi I/O khác</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="kết-luận">Kết luận</h2>
<p>File I/O là một phần quan trọng trong lập trình Java. Việc hiểu và sử dụng đúng các API I/O sẽ giúp bạn tạo ra ứng dụng có thể xử lý dữ liệu một cách hiệu quả và an toàn. NIO.2 cung cấp API hiện đại và mạnh mẽ hơn so với traditional I/O, nên hãy ưu tiên sử dụng khi có thể.</p>

  </div>

  
  
  <footer class="mt4 pt3 bt b--light-gray">
    <h3 class="f5 b ttu gray mb2">🏷️ Tags:</h3>
    <div>
      
        <a href="/tags/io" 
           class="link dim br-pill ph3 pv1 mh1 bg-light-gray dark-gray">
          io
        </a>
      
        <a href="/tags/file" 
           class="link dim br-pill ph3 pv1 mh1 bg-light-gray dark-gray">
          file
        </a>
      
        <a href="/tags/java" 
           class="link dim br-pill ph3 pv1 mh1 bg-light-gray dark-gray">
          java
        </a>
      
    </div>
  </footer>
  

  
  <section class="mt5">
    
    
  </section>
</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://phuoc0209.github.io/blogphuoc.github.io/" >
    &copy;  Blog Tiến Phước 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
